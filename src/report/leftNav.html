<div id="leftNav" class="leftNav">

	<a class="navIcon" style="right: 15px;" ng-click="rCtrl.hideLeftMenu();">
		<span class="glyphicon glyphicon-chevron-left"></span>
	</a>

	<div class="navItem">
		<h4>Report type</h4>
		<d2-select on-select="rCtrl.selectedVaccines = undefined;" options="rCtrl.reportTypes" ng-model="rCtrl.selectedReport" placeholder="Select report type..."></d2-select>
		<d2-select on-select="rCtrl.selectedVaccines = undefined;" ng-if="rCtrl.selectedReport.id === 'vac'" options="rCtrl.vaccineReportTypes" ng-model="rCtrl.selectedVaccineReport"></d2-select>
		<d2-select on-select="rCtrl.selectedVaccines = undefined;" ng-if="rCtrl.selectedReport.id === 'mon'" options="rCtrl.monitoringReportTypes" ng-model="rCtrl.selectedMonitoringReport"></d2-select>
	</div>

	<hr ng-if="rCtrl.selectedReport.id != 'perf' && rCtrl.selectedReport.id != 'rim'"/>

	<div class="navItem" ng-if="rCtrl.selectedReport.id != 'perf' && rCtrl.selectedReport.id != 'rim'">
		<h4>Data</h4>
		<d2-select
				options="rCtrl.vaccines"
				ng-model="rCtrl.selectedVaccines"
				placeholder="Select vaccines..."
				on-select="rCtrl.monitoringTargetOptions(); rCtrl.selectedTarget = undefined;"
				multiple="(rCtrl.selectedReport.id === 'vac' && rCtrl.selectedVaccineReport.id === 'allVac') ||
				(rCtrl.selectedReport.id === 'mon' && rCtrl.selectedMonitoringReport.id === 'allVac')">
		</d2-select>

		<!--FOR MONITORING-->
		<d2-select
				ng-if="rCtrl.selectedReport.id === 'mon' && rCtrl.selectedMonitoringReport.id === 'allVac'"
				options="rCtrl.targets"
				ng-model="rCtrl.selectedTarget"
				placeholder="Select target...">
		</d2-select>
	</div>

	<hr/>

	<div class="navItem">
		<h4>Period</h4>
		<label ng-if="rCtrl.selectedReport.id === 'rim'">Year</label>
		<d2-select options="rCtrl.periods" ng-model="rCtrl.selectedPeriod" placeholder="Select year..."></d2-select>
		<div class="btn-group btn-group-justified"
			 style="margin-bottom: 5px;"
			 ng-init="rCtrl.aggregationType='cumulative';"
			 ng-if="rCtrl.selectedReport.id === 'vac'">
			<label class="btn btn-success" ng-model="rCtrl.aggregationType" uib-btn-radio="'cumulative'" uncheckable>Cumulative</label>
			<label class="btn btn-success" ng-model="rCtrl.aggregationType" uib-btn-radio="'monthly'" uncheckable>Monthly</label>
		</div>
		<div ng-if="rCtrl.selectedReport.id === 'mon' && rCtrl.selectedMonitoringReport.id != 'allVac'">
			<label>Previous years for comparison</label>
			<input ng-init="rCtrl.selectedReferencePeriods = 3"
				   ng-model="rCtrl.selectedReferencePeriods"
				   type="number"
				   min="1"
				   step="1"
				   class="form-control">
		</div>
		<div ng-if="rCtrl.selectedReport.id === 'rim'">
			<label>Month</label>
			<d2-select ng-model="rCtrl.selectedMonth" options="rCtrl.months" placeholder="Select month..."></d2-select>
		</div>
	</div>

	<hr/>

	<div class="navItem" ng-if="rCtrl.selectedReport.id != 'rim'">
		<h4>Organisation unit</h4>
		<d2-select-orgunit ng-model="rCtrl.selectedOrgunit"
						   default-level="1"
						   hide-group="true"
						   hide-level="(rCtrl.selectedReport.id === 'vac' && rCtrl.selectedVaccineReport.id === 'allVac')
						   || rCtrl.selectedReport.id === 'mon'">
		</d2-select-orgunit>
	</div>

	<div class="navItem" style="float:right;">
		<button ng-disabled="!rCtrl.isReady()" ng-click="rCtrl.makeReport()" class="btn btn-success">Make report</button>

	</div>

</div>